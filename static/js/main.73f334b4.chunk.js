(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={nav:"Navbar_nav__3t0Ku",item:"Navbar_item__2syjY",activeLink:"Navbar_activeLink__1hv1b"}},129:function(e,t,a){e.exports=a.p+"static/media/loader.2ef34724.svg"},131:function(e,t,a){e.exports={content:"Profile_content__3ZMtC"}},132:function(e,t,a){e.exports={item:"Post_item__34tuu"}},159:function(e,t,a){e.exports=a(290)},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},29:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3an4_",dialogsItems:"Dialogs_dialogsItems__3rMJC",active:"Dialogs_active__1m4uy",messages:"Dialogs_messages__34pk0",message:"Dialogs_message__3xUdD"}},290:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(60),i=a.n(o),s=(a(164),a(14)),l=a(15),c=a(17),u=a(16),m=a(18),p=(a(165),a(12)),f=a.n(p),d=a(32),E=(a(166),function(e){return r.a.createElement("div",null,"Music")}),h=function(){return r.a.createElement("nav",{className:f.a.nav},r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/profile",activeClassName:f.a.activeLink},"Profile")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/dialogs",activeClassName:f.a.activeLink},"Massages")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/users",activeClassName:f.a.activeLink},"Users")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/news",activeClassName:f.a.activeLink},"News")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/music",activeClassName:f.a.activeLink},"Music")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/setting",activeClassName:f.a.activeLink},"Setting")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/friends",activeClassName:f.a.activeLink},r.a.createElement(E,null))))},g=a(124),v=a(293),b=(a(169),function(e){return r.a.createElement("div",null,"News")}),S=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(r.a.Component),O=(a(170),function(e){return r.a.createElement("div",null,"Setting")}),w=a(36),C=a(8),I={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{message:"hi"},{message:"How are you?"},{message:"Yo"}],newMessageBody:""},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var a=t.newMessageBody;return Object(C.a)({},e,{messages:[].concat(Object(w.a)(e.messages),[{id:6,message:a}])});default:return e}},j=a(29),N=a.n(j),k=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:N.a.dialog+" "+N.a.active},r.a.createElement(d.a,{to:t}," ",e.name," "))},y=function(e){return r.a.createElement("div",null,e.message)},A=a(23),M=a.n(A),F=a(42),U=a(125).create({withCredentials:!0,headers:{"API-KEY":"fe88c94b-7e3d-4776-912d-349e13ec1b3a"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),L=function(e,t){return U.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},R=function(e){return U.post("follow/".concat(e))},T=function(e){return U.delete("follow/".concat(e))},_=function(e){return console.warn("Obsolete method. Please use profileAPI object"),B.getProfile(e)},G=function(){return U.get("auth/me")},z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return U.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n})},x=function(){return U.delete("auth/login")},B={getProfile:function(e){return U.get("profile/"+e)},getStatus:function(e){return U.get("profile/status/"+e)},updateStatus:function(e){return U.put("profile/status",{status:e})},updatePhoto:function(e){var t=new FormData;return t.append("image",e),U.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return U.put("profile",e)}},Q=function(){return U.get("security/get-captcha-url")},J=a(19),Y={posts:[{id:1,message:"Hi, how are you?",likeCount:12},{id:2,message:"It's my first post",likeCount:13}],profile:null,status:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:5,message:t.newPostBody,likesCount:0};return Object(C.a)({},e,{posts:[].concat(Object(w.a)(e.posts),[a])});case"SET_USER_PROFILE":return Object(C.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(C.a)({},e,{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(C.a)({},e,{profile:Object(C.a)({},e.profile,{photos:t.photos})});default:return e}},V=function(e){return{type:"SET_STATUS",status:e}},K=function(e){return function(t){_(e).then(function(e){t({type:"SET_USER_PROFILE",profile:e.data})})}},W={_state:{profilePage:{posts:[{id:1,message:"Hi, how are you?",likeCount:12},{id:2,message:"It's my first post",likeCount:13}],newPostText:""},dialogsPage:{dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{message:"hi"},{message:"How are you?"},{message:"Yo"}],newMessageBody:""}},_collSubscriber:function(){console.log("jhg")},getState:function(){return this._state},subscribe:function(e){this._collSubscriber=e},dispatch:function(e){this._state.profilePage=D(this._state.profilePage,e),this._state.dialogsPage=P(this._state.dialogsPage,e),this._collSubscriber(this._state)}};window.store=W;var H=a(121),Z=a(122),X=a(71),q=a(35),$=a.n(q),ee=function(e){if(!e)return"Field is required"},te=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},ae=function(e){e.input;var t=e.meta,a=(e.child,Object(X.a)(e,["input","meta","child"])),n=t.touched&&t.error;return r.a.createElement("div",{className:$.a.formControl+" "+(n?$.a.error:"")},r.a.createElement("div",null,a.children),n&&r.a.createElement("span",null,t.error))},ne=function(e){var t=e.input,a=(e.meta,e.child,Object(X.a)(e,["input","meta","child"]));return r.a.createElement(ae,e,"  ",r.a.createElement("textarea",Object.assign({},t,a)))},re=function(e){var t=e.input,a=(e.meta,e.child,Object(X.a)(e,["input","meta","child"]));return r.a.createElement(ae,e,"  ",r.a.createElement("input",Object.assign({},t,a)))},oe=function(e){var t=e.dialogsPage,a=t.dialogs.map(function(e){return r.a.createElement(k,{name:e.name,id:e.id})}),n=t.messages.map(function(e){return r.a.createElement(y,{message:e.message})});return r.a.createElement("div",{className:N.a.dialogs},r.a.createElement("div",{className:N.a.dialogsItems},a),r.a.createElement("div",{className:N.a.messages},r.a.createElement("div",null,n),r.a.createElement(se,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},ie=te(100),se=Object(Z.a)({form:"dialogAddMassageForm"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(H.a,{component:ne,name:"newMessageBody",placeholder:"Enter your message",validate:[ee,ie]}),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))}),le=a(9),ce=a(291),ue=function(e){var t=function(t){function a(){return Object(s.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(ce.a,{to:"/login"})}}]),a}(r.a.Component);return Object(le.b)(function(e){return{isAuth:e.auth.isAuth}})(t)},me=ue(oe),pe=Object(le.b)(function(e){return{dialogsPage:e.dialogsPage}},function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}(t))}}})(me),fe={users:[],pageSize:5,portionSize:10,totalItemsCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(C.a)({},e,{users:e.users.map(function(e){return e.id===t.userId?Object(C.a)({},e,{followed:!0}):e})});case"UNFOLLOW":return Object(C.a)({},e,{users:e.users.map(function(e){return e.id===t.userId?Object(C.a)({},e,{followed:!1}):e})});case"SET_USERS":return Object(C.a)({},e,{users:Object(w.a)(t.users)});case"SET_CURRENT_PAGE":return Object(C.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_ITEMS_COUNT":return Object(C.a)({},e,{totalItemsCount:t.totalItemsCount});case"TOGGLE_IS_FETCHING":return Object(C.a)({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(C.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(w.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!=t.userId})});default:return e}},Ee=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},he=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},ge=a(43),ve=a.n(ge),be=a(69),Se=a.n(be),Oe=a(65),we=a(37),Ce=a(128),Ie=a.n(Ce),Pe=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),a=[],o=1;o<=t;o++)a.push(o);var i=Math.ceil(t/e.portionSize),s=Object(n.useState)(1),l=Object(we.a)(s,2),c=l[0],u=l[1],m=(c-1)*e.portionSize+1,p=c*e.portionSize;return r.a.createElement("div",{className:ve.a.paginator},c>1&&r.a.createElement("button",{onClick:function(){return u(c-1)}},"PREV"),i>c&&r.a.createElement("button",{onClick:function(){return u(c+1)}},"NEXT"),a.filter(function(e){return e>=m&&e<=p}).map(function(t){return r.a.createElement("span",{onClick:function(){e.onPageChanged(t)},className:Ie()(Object(Oe.a)({},ve.a.selectedPage,e.currentPage===t),ve.a.pageNumbers)},t)}))},je=function(e){return r.a.createElement("div",null,r.a.createElement(Pe,e),e.users.map(function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(d.a,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:Se.a,className:ve.a.userPhoto}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:e.followingInProgress.some(function(e){return e===t.id}),onClick:function(){e.unfollow(t.id)}},"unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some(function(e){return e===t.id}),onClick:function(){e.follow(t.id)}},"follow"))),r.a.createElement("span",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city")))}))},Ne=a(129),ke=a.n(Ne),ye=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:ke.a}))},Ae=a(130),Me=function(e){return e.usersPage.users},Fe=function(e){return e.usersPage.pageSize},Ue=function(e){return e.usersPage.portionSize},Le=function(e){return e.usersPage.totalItemsCount},Re=function(e){return e.usersPage.currentPage},Te=function(e){return e.usersPage.isFetching},_e=function(e){return e.usersPage.followingInProgress},Ge=(Object(Ae.a)(),ue(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){a.props.getUsers(e,a.props.pageSize)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(ye,null):null,r.a.createElement(je,{onPageChanged:this.onPageChanged,totalItemsCount:this.props.totalItemsCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,portionSize:this.props.portionSize,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),t}(r.a.Component))),ze=Object(le.b)(function(e){return{users:Me(e),pageSize:Fe(e),totalItemsCount:Le(e),currentPage:Re(e),isFetching:Te(e),followingInProgress:_e(e),portionSize:Ue(e)}},{follow:function(e){return function(t){t(he(!0,e)),R(e).then(function(a){0===a.data.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(he(!1,e))})}},unfollow:function(e){return function(t){t(he(!0,e)),T(e).then(function(a){0===a.data.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(he(!1,e))})}},getUsers:function(e,t){return function(a){a(Ee(!0)),a({type:"SET_CURRENT_PAGE",currentPage:e}),L(e,t).then(function(e){a(Ee(!1)),a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_ITEMS_COUNT",totalItemsCount:e.totalCount})})}}})(Ge),xe=a(131),Be=a.n(xe),Qe=a(92),Je=a.n(Qe),Ye=a(132),De=a.n(Ye),Ve=function(e){return r.a.createElement("div",{className:De.a.item,key:e.id},r.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/1054037/08c62f5b-3811-44df-ad70-39ed8e1fe202/s1200"}),e.message)},Ke=te(10),We=Object(Z.a)({form:"dialogAddPostForm"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(H.a,{component:ne,name:"newPostBody",placeholder:"Enter your post",validate:[ee,Ke]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post")))}),He=function(e){var t=e.posts.map(function(e){return r.a.createElement(Ve,{key:e.id,id:e.id,message:e.message})});return r.a.createElement("div",{className:Je.a.postsBlock},r.a.createElement("h3",null,"My post"),r.a.createElement("div",{className:Je.a.posts},t,r.a.createElement(We,{onSubmit:function(t){e.addPost(t.newPostBody)}})))},Ze=a(44),Xe=a.n(Ze),qe=function(e){var t=Object(n.useState)(!1),a=Object(we.a)(t,2),o=a[0],i=a[1],s=Object(n.useState)(e.status),l=Object(we.a)(s,2),c=l[0],u=l[1];Object(n.useEffect)(function(){u(e.status)},[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("b",null,"Status:")," ",r.a.createElement("span",{onDoubleClick:function(){i(!0)}},e.status||"----")),o&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:c,onBlur:function(){i(!1),e.updateStatus(c)}})))},$e=Object(Z.a)({form:"edit-profile"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement("button",null,"save")),e.error&&r.a.createElement("div",{className:$.a.formSummaryError},e.error),r.a.createElement("div",null,r.a.createElement("b",null,"Fullname:")," ",r.a.createElement(H.a,{placeholder:"Full Name",name:"fullName",component:re,validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",r.a.createElement(H.a,{name:"lookingForAJob",component:re,type:"checkbox",validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"My professional skills:")," ",r.a.createElement(H.a,{placeholder:"Professional skills",name:"lookingForAJobDescription",component:ne,validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"About me:")," ",r.a.createElement(H.a,{placeholder:"About me",name:"aboutMe",component:ne,validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts:")," ",Object.keys(e.profile.contacts).map(function(e){return r.a.createElement("div",{key:e,className:Xe.a.contact},r.a.createElement("b",null,e,":"),r.a.createElement(H.a,{placeholder:e,name:"contacts."+e,component:re,validate:[]}))})))}),et=function(e){var t=Object(n.useState)(!1),a=Object(we.a)(t,2),o=a[0],i=a[1];if(!e.profile)return r.a.createElement(ye,null);return r.a.createElement("div",null,r.a.createElement("div",{className:Xe.a.descriptionBlock},r.a.createElement("img",{src:e.profile.photos.large||Se.a,className:Xe.a.mainPhoto}),e.isOwner&&r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),r.a.createElement(qe,{status:e.status,updateStatus:e.updateStatus}),o?r.a.createElement($e,{initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then(function(){i(!1)})},profile:e.profile}):r.a.createElement(at,{goToEditMode:function(){i(!0)},profile:e.profile,isOwner:e.isOwner})))},tt=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("div",null,r.a.createElement("div",{className:Xe.a.contact},r.a.createElement("b",null,t,":"),a))},at=function(e){return r.a.createElement("div",null,e.isOwner&&r.a.createElement("div",null,r.a.createElement("button",{onClick:e.goToEditMode},"edit")),r.a.createElement("div",null,r.a.createElement("b",null,"Fullname:")," ",e.profile.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",e.profile.lookingForAJob?"Yes":"No"),e.profile.lookingForAJob&&r.a.createElement("div",null,r.a.createElement("b",null,"My professional skills:")," ",e.profile.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("b",null,"About me:")," ",e.profile.aboutMe||"--"),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts: ")," ",Object.keys(e.profile.contacts).map(function(t){return r.a.createElement(tt,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})})))},nt=Object(le.b)(function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}},function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostBody:e}}(t))}}})(He),rt=function(e){return r.a.createElement("div",{className:Be.a.content},r.a.createElement(et,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),r.a.createElement(nt,{store:e.store}))},ot=ue(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;void 0===e&&(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(rt,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(r.a.Component)),it=Object(v.a)(ot),st=Object(le.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}},{getUserProfile:K,getStatus:function(e){return function(t){B.getStatus(e).then(function(e){t(V(e.data))})}},updateStatus:function(e){return function(t){B.updateStatus(e).then(function(a){0===a.data.resultCode&&t(V(e))})}},savePhoto:function(e){return function(t){B.updatePhoto(e).then(function(e){0===e.data.resultCode&&t({type:"SAVE_PHOTO_SUCCESS",photos:e.data.data.photos})})}},saveProfile:function(e){return function(){var t=Object(F.a)(M.a.mark(function t(a,n){var r,o;return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.userId,t.next=3,B.saveProfile(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=8;break}a(K(r)),t.next=10;break;case 8:return a(Object(J.a)("edit-profile",{_error:o.data.messages[0]})),t.abrupt("return",Promise.reject(o.data.messages[0]));case 10:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()}})(it),lt=a(93),ct=a.n(lt),ut=function(e){return r.a.createElement("header",{className:ct.a.header},r.a.createElement("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png"}),r.a.createElement("div",{className:ct.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"Log out")):r.a.createElement(d.a,{to:"/login"},"Login")))},mt={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(C.a)({},e,t.data);case"GRT_CAPTCHA_URL_SUCCESS":return Object(C.a)({},e,{captchaUrl:t.payload});default:return e}},ft=function(e,t,a,n){return{type:"SET_USER_DATA",data:{userId:e,email:t,login:a,isAuth:n}}},dt=function(e){return{type:"GRT_CAPTCHA_URL_SUCCESS",payload:e}},Et=function(){return function(){var e=Object(F.a)(M.a.mark(function e(t){var a,n,r,o,i;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:0===(a=e.sent).data.resultCode&&(n=a.data.data,r=n.id,o=n.login,i=n.email,t(ft(r,i,o,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ht=function(){return function(){var e=Object(F.a)(M.a.mark(function e(t){var a,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:a=e.sent,n=a.data.url,t(dt(n));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},gt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(ut,this.props)}}]),t}(r.a.Component),vt=Object(le.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},function(e){return{logout:function(){e(function(e){x().then(function(t){0===t.data.resultCode&&e(ft(null,null,null,!1))})})}}})(gt),bt=Object(Z.a)({form:"login"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(H.a,{placeholder:"Email",name:"email",component:re,validate:[ee]})),r.a.createElement("div",null,r.a.createElement(H.a,{placeholder:"password",name:"password",component:re,validate:[ee]})),r.a.createElement("div",null,r.a.createElement(H.a,{type:"checkbox",name:"rememberMe",component:re,validate:[ee]})," remember me"),e.captchaUrl&&r.a.createElement("img",{src:e.captchaUrl,alt:""}),e.captchaUrl&&r.a.createElement(H.a,{placeholder:"Symbols",name:"captcha",component:re,validate:[ee]}),e.error&&r.a.createElement("div",{className:$.a.formSummaryError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))}),St=Object(le.b)(function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}},{login:function(e,t,a,n){return function(){var r=Object(F.a)(M.a.mark(function r(o){var i,s,l;return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,z(e,t,a,n);case 2:0===(i=r.sent).data.resultCode?o(Et()):(10===i.data.resultCode&&o(ht()),s=i.data.messages.length>0?i.data.messages[0]:"Some error",l=Object(J.a)("login",{_error:s}),o(l));case 4:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()}})(function(e){return e.isAuth?r.a.createElement(ce.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(bt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))}),Ot={initialaized:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALAIZED_CACCESS":return Object(C.a)({},e,{initialaized:!0});default:return e}},Ct=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.initialaizeApp()}},{key:"render",value:function(){return this.props.initialaized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(vt,null),r.a.createElement(h,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(g.a,{path:"/dialogs",render:function(){return r.a.createElement(pe,null)}}),r.a.createElement(g.a,{path:"/profile/:userId?",render:function(){return r.a.createElement(st,null)}}),r.a.createElement(g.a,{path:"/users",render:function(){return r.a.createElement(ze,null)}}),r.a.createElement(g.a,{path:"/news",component:b}),r.a.createElement(g.a,{path:"/music",component:S}),r.a.createElement(g.a,{path:"/setting",component:O}),r.a.createElement(g.a,{path:"/login",render:function(){return r.a.createElement(St,null)}}))):r.a.createElement(ye,null)}}]),t}(n.Component),It=Object(v.a)(Object(le.b)(function(e){return{initialaized:e.app.initialaized}},{initialaizeApp:function(){return function(e){var t=e(Et());Promise.all([t]).then(function(){e({type:"INITIALAIZED_CACCESS"})})}}})(Ct));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pt=a(10),jt=a(133),Nt=a(123),kt=Object(Pt.c)({profilePage:D,dialogsPage:P,usersPage:de,auth:pt,form:Nt.a,app:wt}),yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Pt.d,At=Object(Pt.e)(kt,yt(Object(Pt.a)(jt.a)));window.store=At;var Mt=At,Ft=a(292);i.a.render(r.a.createElement(Ft.a,null,r.a.createElement(le.a,{store:Mt},r.a.createElement(It,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},35:function(e,t,a){e.exports={formControl:"FormsControls_formControl__2ytOc",error:"FormsControls_error__3MVLU",formSummaryError:"FormsControls_formSummaryError__2RYMR"}},43:function(e,t,a){e.exports={userPhoto:"users_userPhoto__6Qhmy",selectedPage:"users_selectedPage__w5NiJ",pageNumbers:"users_pageNumbers__3KbyE",paginator:"users_paginator__1d47G"}},44:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2f5m1",mainPhoto:"ProfileInfo_mainPhoto__19_uo",contact:"ProfileInfo_contact__3D_Nn"}},69:function(e,t){e.exports="data:image/png;base64,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"},92:function(e,t,a){e.exports={postsBlock:"Myposts_postsBlock__4K-hT",posts:"Myposts_posts__6zhKH"}},93:function(e,t,a){e.exports={header:"Header_header__1qgy-",loginBlock:"Header_loginBlock__3aDS0"}}},[[159,1,2]]]);
//# sourceMappingURL=main.73f334b4.chunk.js.map