(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={nav:"Navbar_nav__Pk014",item:"Navbar_item__2JAPf",activeLink:"Navbar_activeLink__1WwuM"}},125:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAABqlBMVEVx4u////84xtknO3oSEUn/7bUoKCboz4lJSUipv77Z7ez80Ijdq2K3zsyOpaI4aJXt1ZMwMC4rRYBP0OFl4O4QAEMvY5MlNXccM3g3wNavx8iGnZ8XHFTks2qS3tp2wb3jqVr/z4Hp+vwAAEIawtaG5vHS9fmc6vPw1o3/7bIAADZHPjy17/buz4V16/j1/f4AIm8AADwnHxu68Pa37/YnFxC81NoAAETK7vRBQkQiCwBGOjfR5uT/9rtSb3Ke4es5Ny/Dr3YOFB1bbpQbHSGds7yPpa9t0+EiKnLg6sRfyM7+6K10iKpKg4kvcnuroYE0oK83OT9dmqG6xdVlucMAH27k1aRTn7zZ4uppd4kxU4kiY4VCeKFgvtRscYsumLKPorils8gaP2hec5wrhqJMXo4bLl13mK5JT3E1TXKDjaw1OWJea4HCzNnj6O4/R2hKjbBxhI2RiXGakXfKvZRfXFQsUFRvZUmbi2FRSzphWUJNXF2klGZYh4w/ZWkzjprBuqCRxMjk5NBzwb28w7bf6NzIzp+XzLi159fN6czNz5wSAADB6NOlzLIWpOcsAAAPVElEQVR4nM3di1sTxxYA8E2CBFGowiIUtdU8LYSEhxYitlR8JFWs5XERURGqUku12latbW/f99rWe+//fGcfJNndeZwzcxZzvs/vq9hP8/vOzJkzs7tZKxF7VDKFwlSpVMyzsJxw/qNYKk0VCplK/P+8FedfXilMFfOW7YYVDv/H+eJUIVZnXMJKoZTnwqLh/G/5UmzMOISVmaIFwwWYVnEmDiW50M0dCtfKZLmk/kC0wkJRW9fMZZEWSSg05zWUlEgqYaZk0fB8pFXKEH0yGuGM/twTGu38DMlnIxBWSuS8XWSJoLgaCzNUs49vLBoPVkMh88XG85GmRiNh/D4Co4Fwb3zGRn1haa98rrG058Ip0uUPQLSm9lSYye+tzzXm9YaqlnBPB2iLUWuoaggLezxAW4iWRr+KF+5ZBeUai7ELM28sgT7Rws5GpPANzcCAETkbUcLKGyih0bDzqH4cIyy8aVsjMAUHITzdDgn0wkYs/3BhW4zQ3UDUVKiwPaZgM+CTESjMvGkRJ4DLBkxYaK8EemHD6g1IONWOQGi9gQjbFAgkAoRtC4QR1cI2aNTEAWjhlMI2Wud5oSaqhG08RL1QDlSFcIYOWG4Jsr+Uha04/JcLydbBcm1l6cMfR2dnZyerP19bWrEIlQqiVEgFLK98ODo62uXG4c7JyTNnJ18sXSFDypd+mTBDAyyvdPk6T+jF5NnOa1eIjLasgZMIKzT/vPXTbFdXVOgiX6wQJVLShkuEeZJ/u/zhaJdAyOLs4SUSYl5HSHOmFgaGhMxYXSEwSvaLQiHNSl9emu2SC5nx55q50T6NFVKV0VAGeUI2HwmMwoIqEBJVmfISRMiMZ66ZGwXVRiAkqDJu7xIB8oVuHk3XDkG14QtN9xNli/UwP7EAC921Y8kyQQqacK7QbKkvW6yFmR0dbbQxMCGLM2aDlb/wc4UmPsta6grXT6jQawIMEgkVmqyEwRYNLXSKzuQ13U6HuypyhCYLRfknWf4gQjeR1aWaFpK3ZHCE+j7LCncwWkJnRrKyozUlIUKDMRpp0bSFPhJt5IzTiNCgjpY5i4O+0JmS/ejPEK2nEaG2z7JWVHMQKew88ymeGAWFfm9yMAPwIYW/JNHEyJlGWKjv4/SgpsLJT5J4YkQU/K1JuwYC4oQvknhiuHkLCisGQFgKUcLOyaQOsSIRFvWB5R9BQJzwbFKHWBQLTTruGqSQYoVnPtUhBleMgNAghdYKbJBqCbHEokhokkLQao8X/pLUIQaS2Co0SSF0GiIrzSdJLWKRLzTb9wKnoa4QR2xNYovQJIWwjs1EiCMWeUKTtRC8GhoIUcSWNbEpNDp9AhcaAyGG2NLYNIVmp0/QQmMiRBGjQsOrvVCgkRBBbG4xGkLDM2BooTETIoj5sNDwaii0Z8MKf0nqEhsLxq6wZASELxZ6XZsOsRQSmgFDXWl1cXGxGpMQTgwKTS+mtQqrXddXV1efPecbNXZPesTds1OLoJ+xAgv+4rf7Pti3j/36ZtF8HvKEUGIxIDS9HtoULj5zfE58cJ03VNGnGNpEu1VofMW3Iayu7gIZcfV5NI3Ykyh9oj9MLZJB2hA2M+hFNI2481KBEEYstgiNL9r7lWbxehDozsaqvvBtkRBEtJtC89sSPGH1mxDQHapBI0Z4uF8ohBC9YWoRLPcNYVfE5xurVR2hcBpCiaWG0Py+BLenCU/ClrF6/fluIhHCs8JpCCTmd4Vme183nL6UN0Ybxg9Wv+1adFKJEB6WAgFEdx9smW+c3HBSuCoEeolcvf68unjxopzV/GP5IIUQ3S2URbFWuDvg6rfiFDYyuW/15Q+H5+cvRp3sR/Pz850//NA57//ZWXElhRKLvtAc6JxiVFU+Lw6dSqfP//Pld99/dLjTMTlx8aOPvv/u5cvz59PpU6fS579zjZMvJJUUSvSEBNPQKi9FlkKRMJ12HE6kGxH8/anz388r6wyI6ExEi+gmvZVZWAo9oSpOvZwX9aQoorMiWkSPjNjqWYgQsjT+Rz0L1UTnyM2iuRfY/guYQqAwfSr9J1AoJeZdIUUKP36PWJhOj70mINqOkOCOfBsOhAvTY69yxkQ7w4QEheYdOBAhTI/9YZxFVmosgieb7I/hQIww/RqaRCHRnmJCgo4GkUKUcAwKFBOLTGheSjGDFCe8YkzMM6Ex0P4rNiF4xRATE5Z5z2b/ty2EfKJdscwXi3YRcol2xjJfLNpklPKJdsEi2P7GJ3wXJ+QQmZDgQd+2qKUCoj1lmZ+zWTYCiBKmsUAOsWQRLPht0NOIiUUSIWYiYvpSZKHhEosWyZOi8eQQ0bSJiXkSof13LLun/2kM0giRRojpvRFCPV+ISCREzET4Hl9rFkaINBnE7PKhQvgOX5XFvSYChfBTmr0jutVGzYQJx16ZAeMhvsMW/r+Vi79S+PrVofSrP0yGaGxE70UVqiyqhGNXciyMfS1Eqlqzq1QtjQqhWYHhEKnWw5YwFAIuOKGI9ELVjl8u1O5jhMQYcqjYS8mFhyh9LjFPsbcIhXxDLBXCT7nBRJLdUyjki79MSFlmdmOOYo8fCe0ckvscYQxfyGbLxqlESD9GXSHhN7I1iZJFUSwkrqNe5KYIzkt5RPFUFAt1TmXUwhmCM29uaOQwBh8TFgiuW3BD2J+KhPizUZiwQnDtiRvCaiMQoo+3oVGhuH7IJwoONvjCsT/jmIQs+mmuAWOIXGFswGSN5Do+isgTxgdMztHciyEi8uYiRzj2bmzA3AzN/TRCIieLUWGMGUzmMlT3RAninZNX1cITcZVRR0h2X5tQeOCQQjh2ME5hP929iULhgQNXZcLjB2MVztHdXyoRBtN4KOSLVZibIrtHWCpkxqs8oeuLV5ghu89bIWwZq7vCMd8X7yilu1dfLXQzefU9VzjW5MUrrBE+bwERutFqi1uYO033zEybCjN0zz21pzBJ+OxaewrnCJ8/bEthbobwGdL2FFYInwNuS2GN8lluftgwYRwHwUmvZaN7Hp8fpZnVk2FjWHji4LP9v8UjrFB+pwI3up34/cBJifDE8V/3OxGHsEb6vRicsE93e/H7oZMC4Ynz/9rvRQxZzM0EhDF03/nuRvx7tZnI463Dsxk1emEiKKRf9LsD0Risx4PDsxHkwlpISH0eZU91h8IfrMeDw7MR1OM01x0SEvamZcu28qUw0B2srLI6wmcRn0OkvXDRnwgLSbZQ5bJVu/P0N47Oj9UDJw7+yuF5Mfz5rbtvJ0nuN8mdjggNl0TnVQ93bjxdT9XrQ31iYXc3L32N6BgYmBjYvnX/btLUmUtEhfpHbuVy7c6N2+v1en1wMMWivikGvj90WZzCR9kOJxhzYvuL+3ehTwLzYo4j1NsHM92Nt5zEuTY/hs4JgUf6xMRLHrDDZw4MdHx2H/TIOieFGY5Qp68pW0/XgzhPuCAEvtWXEhGHn0x3hIJl89ittzUGbC3BE2osGE/rQ2GdG+Pvi4BMKCJenggDPeXELfRwzfG/vxSbxPKdFN+XSg0+EAEdoYB4jAt0M3kXmcaWFJp8j/DTusDnFJstAdAV8ojDN7MiYUfHxC1cCgsCIS6JRyRAlkUB0BPyiBIgS+NnuinU/z7v9Uh9kRcbH+gLI8Thh5EyEyRuI1Io/j5vRBKPyIFsnAaLzbnLIeHNUJmRphCXxUAKNb9Xv3xbOkTdYRooNud6ej4PjNILvb2BFG6rhB0Dt4DlJphCzXcj3FEC2YqxFQD29NxuCgfXe3sDxK+VQFZu7sKEcwmZELgT7lMDU6m+ILCnpyWHvb1BonwS+nEMJqzIhZAtRvmGaB0MxNBOENizv7EeHu0NEIcfgYQD9yFjNPxuMq33zICAbJyeCwB7ei57Pc3gzd7eAFHQzUSJkBRGQOEfAFaMG4BZ6MTghSCwZ9jv2o72BojDXwJmITCJucg7rTTe91RWLIUtSVwOAHlCh/g1MIWQFSP6ikCNd3bVgClMOcWmFcgVMiLQx2JC2YNzONEfqc5OYXXGjfpmj1LYCyszXhIVC0aO83pn/Lvzyrehg5TF0LBSeBQ4CV2hogOvcTT49x/Cp2HKKTZK4ROM8DN5X8PF8H4oradluM8Zp5cUQkg304xjMiFvjGq9hxSRQqc/UwiF+15+SIS5Oa5F412yKGGg2HCEiDLjxICkmPbzKRrvA8YJU4PDEuFRHFAqxL0PWLZkIIVDCxLhkwEqIX8SSoSS93IjhanxS0IhrszIhIJJKBOKV0WscPCBULiNBIqFvJVQJRRWG6wwVb8sEMqO13BCQZVRCEXVBi1MpQRCZJmRCAVVRiEULfx44W6xCQkVx2twYY77umqAUFBQNXJY388RYhpSqVBYRtVC/pmGhtAvNkEhdN+rEjYvhmoIuY8MaQj9YhMQolcKgVC8ToCEPKKOMNUXEWr4eEIVUCnkNOFawqGdkBDZkIqESqBaGG1utITuXrhFiG1IBUI1ECCMDFQ9obMXbhFi9r1iIQAIEYYrqp7Q2Qs3hVplJiKEAEHCEFFTyPbCTSG6IeUJFcsERhhc+jWFqaHNHl+oWWZCwujhr4EwkSEQsr3wbg51gQGhrFXDCxOVvG0uvOBfmdHpZsLCfkmzrSVkmynbVJga9HKY0gY2hDnxflBf2FgY9YWpPleIPF7jCEFFFC9MFIyFqXUmHNQH7gqlmwkDoT8ZTYQpJjQAusIceArihV6XaiRc7zMYo64QM0I1hGzZsI2EKaMUOkLMCNURJhLFcSOgUQo7RuA1VF+YeDwEv4BIK8xml/EfV0OYSCyM649UfWF2ZEPnw2oJE2vr8CvdVMKJ7cdan1VPmEhs6Q5VTWE2u6n5SXWFicrOuJZRSzg9soFaA0mEicRX9/6hMR01hNMjD7/S/5gGQjYdL+BLDlrIfHoTkELIjA+weUQKp0eeGPmMhcx4DzcfUcKsYf5IhGw+7ozX4YmEC7MTIxsG849QyOrq1jo4kVBhdmR7i+Kz0QhZrC0MwRIJEk5PTGwYD08/qIQslu9BRqtaOD0x8lCj/xQFodAZrQypGK4KIZt8D7cIZl8zSIUsKssLKWkqJUKWvOmNZVJegl7oxNrWPaaMPtImEU6z3HU82lyL4dPEIXTiq+WdB+OMGXGGhVkHN/LkJu3QbIm4hG6sPd5ceNBXH68z6ZD3fKkvHJjOZrMTjNbx5aPN5ThS14hYhW5UKmuPlzd3dhbuHVlf72PCY8e2t7/Y2NjYXF5eq2hvGcDxf8UFfhGtvkppAAAAAElFTkSuQmCC"},126:function(e,t,n){e.exports=n.p+"static/media/loader.83c539b1.svg"},128:function(e,t,n){e.exports={content:"Profile_content__3PqgM"}},129:function(e,t,n){e.exports={item:"Post_item__1yxuW"}},130:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__JqJ_t"}},159:function(e,t,n){e.exports=n(290)},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__1BADZ",dialogsItems:"Dialogs_dialogsItems__27OsY",active:"Dialogs_active__98UrG",messages:"Dialogs_messages__3JNhZ",message:"Dialogs_message__BLBOs"}},290:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(57),s=n.n(o),i=(n(164),n(11)),c=n(12),u=n(14),l=n(13),m=n(15),p=(n(165),n(10)),f=n.n(p),d=n(28),g=(n(166),function(e){return r.a.createElement("div",null,"Music")}),h=function(){return r.a.createElement("nav",{className:f.a.nav},r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/profile",activeClassName:f.a.activeLink},"Profile")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/dialogs",activeClassName:f.a.activeLink},"Massages")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/users",activeClassName:f.a.activeLink},"Users")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/news",activeClassName:f.a.activeLink},"News")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/music",activeClassName:f.a.activeLink},"Music")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/setting",activeClassName:f.a.activeLink},"Setting")),r.a.createElement("div",{className:f.a.item}," ",r.a.createElement(d.a,{to:"/friends",activeClassName:f.a.activeLink},r.a.createElement(g,null))))},E=n(121),b=n(293),v=(n(170),function(e){return r.a.createElement("div",null,"News")}),O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(r.a.Component),w=(n(171),function(e){return r.a.createElement("div",null,"Setting")}),S=n(33),P=n(22);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var y={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{message:"hi"},{message:"How are you?"},{message:"Yo"}],newMessageBody:""},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":var n=t.newMessageBody;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(P.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{messages:[].concat(Object(S.a)(e.messages),[{id:6,message:n}])});default:return e}},C=n(26),N=n.n(C),A=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:N.a.dialog+" "+N.a.active},r.a.createElement(d.a,{to:t}," ",e.name," "))},k=function(e){return r.a.createElement("div",null,e.message)},M=n(122).create({withCredentials:!0,headers:{"API-KEY":"fe88c94b-7e3d-4776-912d-349e13ec1b3a"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),U=function(e,t){return M.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},F=function(e){return M.post("follow/".concat(e))},L=function(e){return M.delete("follow/".concat(e))},R=function(e){return console.warn("Obsolete method. Please use profileAPI object"),D.getProfile(e)},G=function(){return M.get("auth/me")},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return M.post("auth/login",{email:e,password:t,rememberMe:n})},B=function(){return M.delete("auth/login")},D={getProfile:function(e){return M.get("profile/"+e)},getStatus:function(e){return M.get("profile/status/"+e)},updateStatus:function(e){return M.put("profile/status",{status:e})}};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(P.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q={posts:[{id:1,message:"Hi, how are you?",likeCount:12},{id:2,message:"It's my first post",likeCount:13}],profile:null,status:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostBody,likesCount:0};return z({},e,{posts:[].concat(Object(S.a)(e.posts),[n])});case"SET_USER_PROFILE":return z({},e,{profile:t.profile});case"SET_STATUS":return z({},e,{status:t.status});default:return e}},J=function(e){return{type:"SET_STATUS",status:e}},Y={_state:{profilePage:{posts:[{id:1,message:"Hi, how are you?",likeCount:12},{id:2,message:"It's my first post",likeCount:13}],newPostText:""},dialogsPage:{dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{message:"hi"},{message:"How are you?"},{message:"Yo"}],newMessageBody:""}},_collSubscriber:function(){console.log("jhg")},getState:function(){return this._state},subscribe:function(e){this._collSubscriber=e},dispatch:function(e){this._state.profilePage=_(this._state.profilePage,e),this._state.dialogsPage=I(this._state.dialogsPage,e),this._collSubscriber(this._state)}};window.store=Y;var W=n(118),K=n(119),V=n(67),Z=n(45),H=n.n(Z),X=function(e){e.input;var t=e.meta,n=(e.child,Object(V.a)(e,["input","meta","child"])),a=t.touched&&t.error;return r.a.createElement("div",{className:H.a.formControl+" "+(a?H.a.error:"")},r.a.createElement("div",null,n.children),a&&r.a.createElement("span",null,t.error))},q=function(e){var t=e.input,n=(e.meta,e.child,Object(V.a)(e,["input","meta","child"]));return r.a.createElement(X,e,"  ",r.a.createElement("textarea",Object.assign({},t,n)))},$=function(e){var t=e.input,n=(e.meta,e.child,Object(V.a)(e,["input","meta","child"]));return r.a.createElement(X,e,"  ",r.a.createElement("input",Object.assign({},t,n)))},ee=function(e){if(!e)return"Field is required"},te=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},ne=function(e){var t=e.dialogsPage,n=t.dialogs.map(function(e){return r.a.createElement(A,{name:e.name,id:e.id})}),a=t.messages.map(function(e){return r.a.createElement(k,{message:e.message})});return r.a.createElement("div",{className:N.a.dialogs},r.a.createElement("div",{className:N.a.dialogsItems},n),r.a.createElement("div",{className:N.a.messages},r.a.createElement("div",null,a),r.a.createElement(re,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},ae=te(100),re=Object(K.a)({form:"dialogAddMassageForm"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(W.a,{component:q,name:"newMessageBody",placeholder:"Enter your message",validate:[ee,ae]}),r.a.createElement("div",null,r.a.createElement("button",null,"Send")))}),oe=n(7),se=n(292),ie=function(e){var t=function(t){function n(){return Object(i.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(c.a)(n,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(se.a,{to:"/login"})}}]),n}(r.a.Component);return Object(oe.b)(function(e){return{isAuth:e.auth.isAuth}})(t)},ce=ie(ne),ue=Object(oe.b)(function(e){return{dialogsPage:e.dialogsPage}},function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND_MESSAGE",newMessageBody:e}}(t))}}})(ce);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(n,!0).forEach(function(t){Object(P.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var pe={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return me({},e,{users:e.users.map(function(e){return e.id===t.userId?me({},e,{followed:!0}):e})});case"UNFOLLOW":return me({},e,{users:e.users.map(function(e){return e.id===t.userId?me({},e,{followed:!1}):e})});case"SET_USERS":return me({},e,{users:Object(S.a)(t.users)});case"SET_CURRENT_PAGE":return me({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return me({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return me({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return me({},e,{followingInProgress:t.isFetching?[].concat(Object(S.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!=t.userId})});default:return e}},de=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},ge=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},he=n(66),Ee=n.n(he),be=n(125),ve=n.n(be),Oe=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);return r.a.createElement("div",null,r.a.createElement("div",{className:Ee.a.pageNumbers},n.map(function(t){return r.a.createElement("span",{onClick:function(){e.onPageChanged(t)},className:e.currentPage===t&&Ee.a.selectedPage},t)})),e.users.map(function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(d.a,{to:"/profile/"+t.id},r.a.createElement("img",{src:null!=t.photos.small?t.photos.small:ve.a,className:Ee.a.userPhoto}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:e.followingInProgress.some(function(e){return e===t.id}),onClick:function(){e.unfollow(t.id)}},"unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some(function(e){return e===t.id}),onClick:function(){e.follow(t.id)}},"follow"))),r.a.createElement("span",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.status)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city")))}))},we=n(126),Se=n.n(we),Pe=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:Se.a}))},je=n(127),ye=function(e){return e.usersPage.users},Ie=function(e){return e.usersPage.pageSize},Ce=function(e){return e.usersPage.totalUsersCount},Ne=function(e){return e.usersPage.currentPage},Ae=function(e){return e.usersPage.isFetching},ke=function(e){return e.usersPage.followingInProgress},Me=(Object(je.a)(),ie(function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize)},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(Pe,null):null,r.a.createElement(Oe,{onPageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,pageSize:this.props.pageSize,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),t}(r.a.Component))),Ue=Object(oe.b)(function(e){return{users:ye(e),pageSize:Ie(e),totalUsersCount:Ce(e),currentPage:Ne(e),isFetching:Ae(e),followingInProgress:ke(e)}},{follow:function(e){return function(t){t(ge(!0,e)),F(e).then(function(n){0===n.data.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(ge(!1,e))})}},unfollow:function(e){return function(t){t(ge(!0,e)),L(e).then(function(n){0===n.data.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(ge(!1,e))})}},getUsers:function(e,t){return function(n){n(de(!0)),n({type:"SET_CURRENT_PAGE",currentPage:e}),U(e,t).then(function(e){n(de(!1)),n({type:"SET_USERS",users:e.items}),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e.totalCount})})}}})(Me),Fe=n(128),Le=n.n(Fe),Re=n(86),Ge=n.n(Re),Te=n(129),Be=n.n(Te),De=function(e){return r.a.createElement("div",{className:Be.a.item,key:e.id},r.a.createElement("img",{src:"https://avatars.mds.yandex.net/get-pdb/1054037/08c62f5b-3811-44df-ad70-39ed8e1fe202/s1200"}),e.message)},xe=te(10),ze=Object(K.a)({form:"dialogAddPostForm"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(W.a,{component:q,name:"newPostBody",placeholder:"Enter your post",validate:[ee,xe]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post")))}),Qe=function(e){var t=e.posts.map(function(e){return r.a.createElement(De,{id:e.id,message:e.message})});return r.a.createElement("div",{className:Ge.a.postsBlock},r.a.createElement("h3",null,"My post"),r.a.createElement("div",{className:Ge.a.posts},t,r.a.createElement(ze,{onSubmit:function(t){e.addPost(t.newPostBody)}})))},_e=n(130),Je=n.n(_e),Ye=n(60),We=(r.a.Component,n(89)),Ke=function(e){var t=Object(a.useState)(!1),n=Object(We.a)(t,2),o=n[0],s=n[1],i=Object(a.useState)(e.status),c=Object(We.a)(i,2),u=c[0],l=c[1];Object(a.useEffect)(function(){l(e.status)},[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){s(!0)}},e.status||"----")),o&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,value:u,onBlur:function(){s(!1),e.updateStatus(u)}})))},Ve=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",{className:Je.a.descriptionBlock},r.a.createElement("img",{src:e.profile.photos.large}),r.a.createElement(Ke,{status:e.status,updateStatus:e.updateStatus}))):r.a.createElement(Pe,null)},Ze=Object(oe.b)(function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}},function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostBody:e}}(t))}}})(Qe),He=function(e){return r.a.createElement("div",{className:Le.a.content},r.a.createElement(Ve,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(Ze,{store:e.store}))},Xe=ie(function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),e||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement(He,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),t}(r.a.Component)),qe=Object(b.a)(Xe),$e=Object(oe.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}},{getUserProfile:function(e){return function(t){R(e).then(function(e){t({type:"SET_USER_PROFILE",profile:e.data})})}},getStatus:function(e){return function(t){D.getStatus(e).then(function(e){t(J(e.data))})}},updateStatus:function(e){return function(t){D.updateStatus(e).then(function(n){0===n.data.resultCode&&t(J(e))})}}})(qe),et=n(87),tt=n.n(et),nt=function(e){return r.a.createElement("header",{className:tt.a.header},r.a.createElement("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png"}),r.a.createElement("div",{className:tt.a.loginBlock},e.isAuth?r.a.createElement("div",null,e.login," - ",r.a.createElement("button",{onClick:e.logout},"Log out")):r.a.createElement(d.a,{to:"/login"},"Login")))},at=n(48),rt=n.n(at),ot=n(88),st=n(32);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var ct={userId:null,email:null,login:null,isAuth:!1},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach(function(t){Object(P.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},t.data);default:return e}},lt=function(e,t,n,a){return{type:"SET_USER_DATA",data:{userId:e,email:t,login:n,isAuth:a}}},mt=function(){return function(){var e=Object(ot.a)(rt.a.mark(function e(t){var n,a,r,o,s;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,s=a.email,t(lt(r,s,o,!0)));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},pt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(nt,this.props)}}]),t}(r.a.Component),ft=Object(oe.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},function(e){return{logout:function(){e(function(e){B().then(function(t){0===t.data.resultCode&&e(lt(null,null,null,!1))})})}}})(pt),dt=Object(K.a)({form:"login"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(W.a,{placeholder:"Email",name:"email",component:$,validate:[ee]})),r.a.createElement("div",null,r.a.createElement(W.a,{placeholder:"password",name:"password",component:$,validate:[ee]})),r.a.createElement("div",null,r.a.createElement(W.a,{type:"checkbox",name:"rememberMe",component:$,validate:[ee]})," remember me"),e.error&&r.a.createElement("div",{className:H.a.formSummaryError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))}),gt=Object(oe.b)(function(e){return{isAuth:e.auth.isAuth}},{login:function(e,t,n){return function(){var a=Object(ot.a)(rt.a.mark(function a(r){var o,s,i;return rt.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T(e,t,n);case 2:0===(o=a.sent).data.resultCode?r(mt()):(s=o.data.messages.length>0?o.data.messages[0]:"Some error",i=Object(st.a)("login",{_error:s}),r(i));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(function(e){return e.isAuth?r.a.createElement(se.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement(dt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))});function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Et={initialaized:!1},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALAIZED_CACCESS":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(n,!0).forEach(function(t){Object(P.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{initialaized:!0});default:return e}},vt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.initialaizeApp()}},{key:"render",value:function(){return this.props.initialaized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(ft,null),r.a.createElement(h,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(E.a,{path:"/dialogs",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(E.a,{path:"/profile/:userId?",render:function(){return r.a.createElement($e,null)}}),r.a.createElement(E.a,{path:"/users",render:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(E.a,{path:"/news",component:v}),r.a.createElement(E.a,{path:"/music",component:O}),r.a.createElement(E.a,{path:"/setting",component:w}),r.a.createElement(E.a,{path:"/login",render:function(){return r.a.createElement(gt,null)}}))):r.a.createElement(Pe,null)}}]),t}(a.Component),Ot=Object(b.a)(Object(oe.b)(function(e){return{initialaized:e.app.initialaized}},{initialaizeApp:function(){return function(e){var t=e(mt());Promise.all([t]).then(function(){e({type:"INITIALAIZED_CACCESS"})})}}})(vt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wt=n(8),St=n(132),Pt=n(120),jt=Object(wt.c)({profilePage:_,dialogsPage:I,usersPage:fe,auth:ut,form:Pt.a,app:bt}),yt=Object(wt.d)(jt,Object(wt.a)(St.a));window.store=yt;var It=yt,Ct=n(133);s.a.render(r.a.createElement(Ct.a,{basename:"/myReactProgect"},r.a.createElement(oe.a,{store:It},r.a.createElement(Ot,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2qAMD",error:"FormsControls_error__CvOMv",formSummaryError:"FormsControls_formSummaryError__2PAWb"}},66:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1U7w9",selectedPage:"users_selectedPage__37RzD",pageNumbers:"users_pageNumbers__J2T_p"}},86:function(e,t,n){e.exports={postsBlock:"Myposts_postsBlock__20t4f",posts:"Myposts_posts__1esat"}},87:function(e,t,n){e.exports={header:"Header_header__2upVZ",loginBlock:"Header_loginBlock__33jE_"}}},[[159,1,2]]]);
//# sourceMappingURL=main.e63511cb.chunk.js.map